{"remainingRequest":"/Users/weilei/Desktop/test/vue-element-admin-01/node_modules/babel-loader/lib/index.js!/Users/weilei/Desktop/test/vue-element-admin-01/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/weilei/Desktop/test/vue-element-admin-01/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/weilei/Desktop/test/vue-element-admin-01/src/components/MarkdownEditor/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/weilei/Desktop/test/vue-element-admin-01/src/components/MarkdownEditor/index.vue","mtime":1652962110887},{"path":"/Users/weilei/Desktop/test/vue-element-admin-01/babel.config.js","mtime":1652962110776},{"path":"/Users/weilei/Desktop/test/vue-element-admin-01/node_modules/cache-loader/dist/cjs.js","mtime":1652282064433},{"path":"/Users/weilei/Desktop/test/vue-element-admin-01/node_modules/babel-loader/lib/index.js","mtime":1652282059191},{"path":"/Users/weilei/Desktop/test/vue-element-admin-01/node_modules/cache-loader/dist/cjs.js","mtime":1652282064433},{"path":"/Users/weilei/Desktop/test/vue-element-admin-01/node_modules/vue-loader/lib/index.js","mtime":1652282064914}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3dlaWxlaS9EZXNrdG9wL3Rlc3QvdnVlLWVsZW1lbnQtYWRtaW4tMDEvbm9kZV9tb2R1bGVzL0B2dWUvY2xpLXBsdWdpbi1iYWJlbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7Ci8vCi8vCi8vCi8vCi8vIGRlcHMgZm9yIGVkaXRvcgppbXBvcnQgJ2NvZGVtaXJyb3IvbGliL2NvZGVtaXJyb3IuY3NzJzsgLy8gY29kZW1pcnJvcgoKaW1wb3J0ICd0dWktZWRpdG9yL2Rpc3QvdHVpLWVkaXRvci5jc3MnOyAvLyBlZGl0b3IgdWkKCmltcG9ydCAndHVpLWVkaXRvci9kaXN0L3R1aS1lZGl0b3ItY29udGVudHMuY3NzJzsgLy8gZWRpdG9yIGNvbnRlbnQKCmltcG9ydCBFZGl0b3IgZnJvbSAndHVpLWVkaXRvcic7CmltcG9ydCBkZWZhdWx0T3B0aW9ucyBmcm9tICcuL2RlZmF1bHQtb3B0aW9ucyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTWFya2Rvd25FZGl0b3InLAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgaWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiAnbWFya2Rvd24tZWRpdG9yLScgKyArbmV3IERhdGUoKSArICgoTWF0aC5yYW5kb20oKSAqIDEwMDApLnRvRml4ZWQoMCkgKyAnJyk7CiAgICAgIH0KICAgIH0sCiAgICBvcHRpb25zOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIGRlZmF1bHRPcHRpb25zOwogICAgICB9CiAgICB9LAogICAgbW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdtYXJrZG93bicKICAgIH0sCiAgICBoZWlnaHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICczMDBweCcKICAgIH0sCiAgICBsYW5ndWFnZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ2VuX1VTJyAvLyBodHRwczovL2dpdGh1Yi5jb20vbmhuZW50L3R1aS5lZGl0b3IvdHJlZS9tYXN0ZXIvc3JjL2pzL2xhbmdzCgogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVkaXRvcjogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBlZGl0b3JPcHRpb25zOiBmdW5jdGlvbiBlZGl0b3JPcHRpb25zKCkgewogICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCB0aGlzLm9wdGlvbnMpOwogICAgICBvcHRpb25zLmluaXRpYWxFZGl0VHlwZSA9IHRoaXMubW9kZTsKICAgICAgb3B0aW9ucy5oZWlnaHQgPSB0aGlzLmhlaWdodDsKICAgICAgb3B0aW9ucy5sYW5ndWFnZSA9IHRoaXMubGFuZ3VhZ2U7CiAgICAgIHJldHVybiBvcHRpb25zOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShuZXdWYWx1ZSwgcHJlVmFsdWUpIHsKICAgICAgaWYgKG5ld1ZhbHVlICE9PSBwcmVWYWx1ZSAmJiBuZXdWYWx1ZSAhPT0gdGhpcy5lZGl0b3IuZ2V0VmFsdWUoKSkgewogICAgICAgIHRoaXMuZWRpdG9yLnNldFZhbHVlKG5ld1ZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIGxhbmd1YWdlOiBmdW5jdGlvbiBsYW5ndWFnZSh2YWwpIHsKICAgICAgdGhpcy5kZXN0cm95RWRpdG9yKCk7CiAgICAgIHRoaXMuaW5pdEVkaXRvcigpOwogICAgfSwKICAgIGhlaWdodDogZnVuY3Rpb24gaGVpZ2h0KG5ld1ZhbHVlKSB7CiAgICAgIHRoaXMuZWRpdG9yLmhlaWdodChuZXdWYWx1ZSk7CiAgICB9LAogICAgbW9kZTogZnVuY3Rpb24gbW9kZShuZXdWYWx1ZSkgewogICAgICB0aGlzLmVkaXRvci5jaGFuZ2VNb2RlKG5ld1ZhbHVlKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRFZGl0b3IoKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgdGhpcy5kZXN0cm95RWRpdG9yKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0RWRpdG9yOiBmdW5jdGlvbiBpbml0RWRpdG9yKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5lZGl0b3IgPSBuZXcgRWRpdG9yKF9vYmplY3RTcHJlYWQoewogICAgICAgIGVsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKQogICAgICB9LCB0aGlzLmVkaXRvck9wdGlvbnMpKTsKCiAgICAgIGlmICh0aGlzLnZhbHVlKSB7CiAgICAgICAgdGhpcy5lZGl0b3Iuc2V0VmFsdWUodGhpcy52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZWRpdG9yLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJGVtaXQoJ2lucHV0JywgX3RoaXMuZWRpdG9yLmdldFZhbHVlKCkpOwogICAgICB9KTsKICAgIH0sCiAgICBkZXN0cm95RWRpdG9yOiBmdW5jdGlvbiBkZXN0cm95RWRpdG9yKCkgewogICAgICBpZiAoIXRoaXMuZWRpdG9yKSByZXR1cm47CiAgICAgIHRoaXMuZWRpdG9yLm9mZignY2hhbmdlJyk7CiAgICAgIHRoaXMuZWRpdG9yLnJlbW92ZSgpOwogICAgfSwKICAgIHNldFZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkgewogICAgICB0aGlzLmVkaXRvci5zZXRWYWx1ZSh2YWx1ZSk7CiAgICB9LAogICAgZ2V0VmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKCkgewogICAgICByZXR1cm4gdGhpcy5lZGl0b3IuZ2V0VmFsdWUoKTsKICAgIH0sCiAgICBzZXRIdG1sOiBmdW5jdGlvbiBzZXRIdG1sKHZhbHVlKSB7CiAgICAgIHRoaXMuZWRpdG9yLnNldEh0bWwodmFsdWUpOwogICAgfSwKICAgIGdldEh0bWw6IGZ1bmN0aW9uIGdldEh0bWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmVkaXRvci5nZXRIdG1sKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;AAKA;AACA,uC,CAAA;;AACA,wC,CAAA;;AACA,iD,CAAA;;AAEA;AACA;AAEA;EACAA,sBADA;EAEAC;IACAC;MACAC,YADA;MAEAC;IAFA,CADA;IAKAC;MACAF,YADA;MAEAG,eAFA;MAGAF,OAHA,sBAGA;QACA;MACA;IALA,CALA;IAYAG;MACAJ,YADA;MAEAC,OAFA,sBAEA;QACA;MACA;IAJA,CAZA;IAkBAI;MACAL,YADA;MAEAC;IAFA,CAlBA;IAsBAK;MACAN,YADA;MAEAG,eAFA;MAGAF;IAHA,CAtBA;IA2BAM;MACAP,YADA;MAEAG,eAFA;MAGAF,gBAHA,CAGA;;IAHA;EA3BA,CAFA;EAmCAO,IAnCA,kBAmCA;IACA;MACAC;IADA;EAGA,CAvCA;EAwCAC;IACAC,aADA,2BACA;MACA;MACAP;MACAA;MACAA;MACA;IACA;EAPA,CAxCA;EAiDAQ;IACAb,KADA,iBACAc,QADA,EACAC,QADA,EACA;MACA;QACA;MACA;IACA,CALA;IAMAP,QANA,oBAMAQ,GANA,EAMA;MACA;MACA;IACA,CATA;IAUAT,MAVA,kBAUAO,QAVA,EAUA;MACA;IACA,CAZA;IAaAR,IAbA,gBAaAQ,QAbA,EAaA;MACA;IACA;EAfA,CAjDA;EAkEAG,OAlEA,qBAkEA;IACA;EACA,CApEA;EAqEAC,SArEA,uBAqEA;IACA;EACA,CAvEA;EAwEAC;IACAC,UADA,wBACA;MAAA;;MACA;QACAC;MADA,GAEA,kBAFA;;MAIA;QACA;MACA;;MACA;QACA;MACA,CAFA;IAGA,CAZA;IAaAC,aAbA,2BAaA;MACA;MACA;MACA;IACA,CAjBA;IAkBAC,QAlBA,oBAkBAvB,KAlBA,EAkBA;MACA;IACA,CApBA;IAqBAwB,QArBA,sBAqBA;MACA;IACA,CAvBA;IAwBAC,OAxBA,mBAwBAzB,KAxBA,EAwBA;MACA;IACA,CA1BA;IA2BA0B,OA3BA,qBA2BA;MACA;IACA;EA7BA;AAxEA","names":["name","props","value","type","default","id","required","options","mode","height","language","data","editor","computed","editorOptions","watch","newValue","preValue","val","mounted","destroyed","methods","initEditor","el","destroyEditor","setValue","getValue","setHtml","getHtml"],"sourceRoot":"src/components/MarkdownEditor","sources":["index.vue"],"sourcesContent":["<template>\n  <div :id=\"id\" />\n</template>\n\n<script>\n// deps for editor\nimport 'codemirror/lib/codemirror.css' // codemirror\nimport 'tui-editor/dist/tui-editor.css' // editor ui\nimport 'tui-editor/dist/tui-editor-contents.css' // editor content\n\nimport Editor from 'tui-editor'\nimport defaultOptions from './default-options'\n\nexport default {\n  name: 'MarkdownEditor',\n  props: {\n    value: {\n      type: String,\n      default: ''\n    },\n    id: {\n      type: String,\n      required: false,\n      default() {\n        return 'markdown-editor-' + +new Date() + ((Math.random() * 1000).toFixed(0) + '')\n      }\n    },\n    options: {\n      type: Object,\n      default() {\n        return defaultOptions\n      }\n    },\n    mode: {\n      type: String,\n      default: 'markdown'\n    },\n    height: {\n      type: String,\n      required: false,\n      default: '300px'\n    },\n    language: {\n      type: String,\n      required: false,\n      default: 'en_US' // https://github.com/nhnent/tui.editor/tree/master/src/js/langs\n    }\n  },\n  data() {\n    return {\n      editor: null\n    }\n  },\n  computed: {\n    editorOptions() {\n      const options = Object.assign({}, defaultOptions, this.options)\n      options.initialEditType = this.mode\n      options.height = this.height\n      options.language = this.language\n      return options\n    }\n  },\n  watch: {\n    value(newValue, preValue) {\n      if (newValue !== preValue && newValue !== this.editor.getValue()) {\n        this.editor.setValue(newValue)\n      }\n    },\n    language(val) {\n      this.destroyEditor()\n      this.initEditor()\n    },\n    height(newValue) {\n      this.editor.height(newValue)\n    },\n    mode(newValue) {\n      this.editor.changeMode(newValue)\n    }\n  },\n  mounted() {\n    this.initEditor()\n  },\n  destroyed() {\n    this.destroyEditor()\n  },\n  methods: {\n    initEditor() {\n      this.editor = new Editor({\n        el: document.getElementById(this.id),\n        ...this.editorOptions\n      })\n      if (this.value) {\n        this.editor.setValue(this.value)\n      }\n      this.editor.on('change', () => {\n        this.$emit('input', this.editor.getValue())\n      })\n    },\n    destroyEditor() {\n      if (!this.editor) return\n      this.editor.off('change')\n      this.editor.remove()\n    },\n    setValue(value) {\n      this.editor.setValue(value)\n    },\n    getValue() {\n      return this.editor.getValue()\n    },\n    setHtml(value) {\n      this.editor.setHtml(value)\n    },\n    getHtml() {\n      return this.editor.getHtml()\n    }\n  }\n}\n</script>\n"]}]}